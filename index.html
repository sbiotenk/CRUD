<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>AdminLTE 3 | Dashboard</title>

  <!-- Google Font: Source Sans Pro -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700&display=fallback">
  <!-- Font Awesome -->
  <link rel="stylesheet" href="plugins/fontawesome-free/css/all.min.css">
  <!-- Ionicons -->
  <link rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
  <!-- Tempusdominus Bootstrap 4 -->
  <link rel="stylesheet" href="plugins/tempusdominus-bootstrap-4/css/tempusdominus-bootstrap-4.min.css">
  <!-- iCheck -->
  <link rel="stylesheet" href="plugins/icheck-bootstrap/icheck-bootstrap.min.css">
  <!-- JQVMap -->
  <link rel="stylesheet" href="plugins/jqvmap/jqvmap.min.css">
  <!-- Theme style -->
  <link rel="stylesheet" href="dist/css/adminlte.min.css">
  <!-- overlayScrollbars -->
  <link rel="stylesheet" href="plugins/overlayScrollbars/css/OverlayScrollbars.min.css">
  <!-- Daterange picker -->
  <link rel="stylesheet" href="plugins/daterangepicker/daterangepicker.css">
  <!-- summernote -->
  <link rel="stylesheet" href="plugins/summernote/summernote-bs4.min.css">
  <style>
    .custom-sidebar {
      background-color: #343a40;
      color: white;
      padding: 20px;
      height: 100vh;
    }
    .content-area {
      margin-left: 260px;
    }
    .form-inline .form-group {
      margin-right: 10px;
    }
  </style>
</head>
<body class="hold-transition sidebar-mini layout-fixed">
<div class="wrapper">

  <!-- Sidebar Menu -->
  <nav class="custom-sidebar position-fixed">
    <ul class="nav nav-pills nav-sidebar flex-column" data-widget="treeview" role="menu" data-accordion="false">
      <!-- Equipamientos -->
      <li class="nav-item">
        <a href="equipamientos.html" class="nav-link">
          <i class="nav-icon fas fa-tools"></i>
          <p>Equipamientos</p>
        </a>
      </li>
      <!-- Fuera de servicio -->
      <li class="nav-item">
        <a href="Fueradeservicio.html" class="nav-link">
          <i class="nav-icon fas fa-exclamation-triangle"></i>
          <p>Fuera de servicio</p>
        </a>
      </li>
      <!-- Relevamientos -->
      <li class="nav-item">
        <a href="relevamiento.html" class="nav-link">
          <i class="nav-icon fas fa-clipboard-list"></i>
          <p>Relevamientos</p>
        </a>
      </li>
    </ul>
  </nav>
  <!-- /.sidebar-menu -->

  <!-- Main Content -->
  <div class="content-wrapper content-area">
    <!-- Content Header -->
    <div class="content-header">
      <div class="container-fluid">
        <div class="row mb-2">
          <div class="col-sm-6">
            <h1 class="m-0">Relevados</h1>
          </div><!-- /.col -->
          <div class="col-sm-6">
            <ol class="breadcrumb float-sm-right">
              <li class="breadcrumb-item"><a href="#">Home</a></li>
              <li class="breadcrumb-item active">Relevados</li>
            </ol>
          </div><!-- /.col -->
        </div><!-- /.row -->
      </div><!-- /.container-fluid -->
    </div>
    <!-- /.content-header -->

    <!-- Main Content Section -->
    <section class="content">
      <div class="container-fluid">
        <!-- Input Form -->
        <div class="card mb-3">
          <div class="card-header bg-primary text-white">Agregar Nuevo Registro</div>
          <div class="card-body">
            <form class="form-inline" id="addRowForm">
              <div class="form-group">
                <label for="inputId">ID</label>
                <input type="text" class="form-control ml-2" id="inputId" placeholder="ID">
              </div>
              <div class="form-group">
                <label for="inputEquipo">Nombre de Equipo</label>
                <input type="text" class="form-control ml-2" id="inputEquipo" placeholder="Equipo">
              </div>
              <div class="form-group">
                <label for="inputIP">IP</label>
                <input type="text" class="form-control ml-2" id="inputIP" placeholder="IP">
              </div>
              <div class="form-group">
                <label for="inputMac">MAC</label>
                <input type="text" class="form-control ml-2" id="inputMac" placeholder="MAC">
              </div>
              <div class="form-group">
                <label for="inputSector">Sector</label>
                <input type="text" class="form-control ml-2" id="inputSector" placeholder="Sector">
              </div>
              <div class="form-group">
                <label for="inputUbicacion">Ubicaci贸n</label>
                <input type="text" class="form-control ml-2" id="inputUbicacion" placeholder="Ubicaci贸n">
              </div>
              <div class="form-group">
                <label for="inputUsuario">Usuario</label>
                <input type="text" class="form-control ml-2" id="inputUsuario" placeholder="Usuario">
              </div>
              <button type="button" class="btn btn-success ml-2" id="addRowBtn">Agregar</button>
            </form>
          </div>
        </div>

        <!-- Table -->
        <div class="card">
          <div class="card-header">
            <h3 class="card-title">Tabla de Relevados</h3>
          </div>
          <!-- /.card-header -->
          <div class="card-body">
            <table id="relevadosTable" class="table table-bordered table-striped">
              <thead>
                <tr>
                  <th>ID</th>
                  <th>Nombre de Equipo</th>
                  <th>IP</th>
                  <th>MAC</th>
                  <th>Sector</th>
                  <th>Ubicaci贸n</th>
                  <th>Usuario</th>
                  <th>Acciones</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>1</td>
                  <td>Servidor</td>
                  <td>192.168.1.10</td>
                  <td>74-56-3C-A5-34-F8</td>
                  <td>Administraci贸n</td>
                  <td>Zuviria</td>
                  <td>Carlos Dominguez</td>
                  <td>
                    <button class="btn btn-primary btn-sm">Editar</button>
                    <button class="btn btn-danger btn-sm">Eliminar</button>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
          <!-- /.card-body -->
        </div>
        <!-- /.card -->
      </div><!-- /.container-fluid -->
    </section>
    <!-- /.content -->
  </div>
  <!-- /.content-wrapper -->

  <!-- jQuery -->
  <script src="plugins/jquery/jquery.min.js"></script>
  <!-- jQuery UI 1.11.4 -->
  <script src="plugins/jquery-ui/jquery-ui.min.js"></script>
  <script>
    $.widget.bridge('uibutton', $.ui.button);

    $('#addRowBtn').click(function () {
  const formData = {
    id: $('#inputId').val(),
    nombre_equipo: $('#inputEquipo').val(),
    ip: $('#inputIP').val(),
    mac: $('#inputMac').val(),
    sector: $('#inputSector').val(),
    ubicacion: $('#inputUbicacion').val(),
    usuario: $('#inputUsuario').val()
  };

  $.ajax({
    type: "POST",
    url: "api/create.php",
    data: formData,
    success: function (response) {
      const res = JSON.parse(response);
      if (res.success) {
        alert(res.message);
        location.reload();
      } else {
        alert(res.message);
      }
    },
    error: function () {
      alert("Error al agregar el registro.");
    }
  });
});

  </script>
  <!-- Bootstrap 4 -->
  <script src="plugins/bootstrap/js/bootstrap.bundle.min.js"></script>
  <!-- AdminLTE App -->
  <script src="dist/js/adminlte.js"></script>
</body>
</html>
